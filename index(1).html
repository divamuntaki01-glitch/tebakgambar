<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tebak Gambar Pro - V3</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap');

        :root {
            --bg: #f0f7ff;
            --card: #ffffff;
            --primary: #6c5ce7;
            --secondary: #a29bfe;
            --danger: #ff7675;
            --success: #55efc4;
        }

        body {
            font-family: 'Fredoka', sans-serif;
            background-color: var(--bg);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        #game-card {
            background: var(--card);
            width: 90%;
            max-width: 420px;
            padding: 30px;
            border-radius: 35px;
            box-shadow: 0 20px 0px #d6e4f0;
            text-align: center;
            position: relative;
        }

        .top-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 600;
        }

        .lives { color: var(--danger); }
        .score { color: var(--primary); }

        .image-area {
            font-size: 100px;
            background: #f8f9fa;
            border-radius: 25px;
            height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 25px;
            border: 3px dashed #dfe6e9;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .btn-opt {
            background: white;
            border: 2px solid #edeff2;
            padding: 15px;
            border-radius: 18px;
            font-family: 'Fredoka', sans-serif;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.2s;
        }

        .btn-opt:hover { border-color: var(--secondary); background: #fcfcff; }
        
        /* State Colors */
        .correct { background: var(--success) !important; color: white; border-color: #00b894; }
        .wrong { background: var(--danger) !important; color: white; border-color: #d63031; animation: shake 0.3s; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .screen { display: none; }
        .active { display: block; }

        .btn-start {
            background: var(--primary);
            color: white;
            padding: 15px 40px;
            border-radius: 50px;
            border: none;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(108, 92, 231, 0.3);
        }
    </style>
</head>
<body>

    <div id="game-card">
        <div id="start-screen" class="screen active">
            <div style="font-size: 80px;">üéØ</div>
            <h1 style="color: var(--primary);">Tebak Gambar V3</h1>
            <p>Selesaikan 10 tantangan tanpa kehabisan nyawa!</p>
            <button class="btn-start" onclick="begin()">MULAI GAME</button>
        </div>

        <div id="play-screen" class="screen">
            <div class="top-bar">
                <div class="lives">‚ù§Ô∏è <span id="life-count">3</span></div>
                <div class="score">Skor: <span id="score-val">0</span></div>
            </div>
            <div class="image-area" id="box">‚ùì</div>
            <div class="options-container" id="opt-grid"></div>
        </div>

        <div id="end-screen" class="screen">
            <h1 id="res-title">Selesai!</h1>
            <div id="res-icon" style="font-size: 80px; margin: 20px;"></div>
            <p id="res-msg"></p>
            <button class="btn-start" onclick="location.reload()">COBA LAGI</button>
        </div>
    </div>

    <audio id="bgm" loop><source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3"></audio>
    <audio id="sfx-ok"><source src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3"></audio>
    <audio id="sfx-no"><source src="https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3"></audio>

    <script>
        const bank = [
            { q: 'üçì', a: 'Stroberi', o: ['Tomat', 'Ceri', 'Stroberi', 'Semangka'] },
            { q: 'ü¶í', a: 'Jerapah', o: ['Rusa', 'Jerapah', 'Kuda Nil', 'Zebra'] },
            { q: 'üç£', a: 'Sushi', o: ['Ramen', 'Sushi', 'Dimsum', 'Pizza'] },
            { q: 'üöÄ', a: 'Roket', o: ['Pesawat', 'Burung', 'UFO', 'Roket'] },
            { q: 'üåã', a: 'Gunung', o: ['Bukit', 'Gunung', 'Pantai', 'Gua'] },
            { q: 'üé∏', a: 'Gitar', o: ['Biola', 'Gitar', 'Ukulele', 'Bass'] },
            { q: 'ü¶â', a: 'Burung Hantu', o: ['Elang', 'Beo', 'Burung Hantu', 'Ayam'] },
            { q: 'üèéÔ∏è', a: 'Mobil Balap', o: ['Motor', 'Truk', 'Bus', 'Mobil Balap'] },
            { q: 'ü•ê', a: 'Roti', o: ['Donat', 'Roti', 'Biskuit', 'Kue'] },
            { q: 'üèÄ', a: 'Basket', o: ['Voli', 'Bola', 'Basket', 'Tenis'] }
        ];

        let idx = 0;
        let score = 0;
        let lives = 3;

        function begin() {
            document.getElementById('bgm').volume = 0.2;
            document.getElementById('bgm').play();
            show('play-screen');
            update();
        }

        function show(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function update() {
            const data = bank[idx];
            document.getElementById('box').innerText = data.q;
            const grid = document.getElementById('opt-grid');
            grid.innerHTML = '';
            
            data.o.forEach(opt => {
                const b = document.createElement('button');
                b.className = 'btn-opt';
                b.innerText = opt;
                b.onclick = () => check(opt, b);
                grid.appendChild(b);
            });
        }

        function check(choice, btn) {
            const correct = bank[idx].a;
            if(choice === correct) {
                btn.classList.add('correct');
                document.getElementById('sfx-ok').play();
                score += 10;
                document.getElementById('score-val').innerText = score;
                lock();
                setTimeout(next, 1000);
            } else {
                btn.classList.add('wrong');
                document.getElementById('sfx-no').play();
                lives--;
                document.getElementById('life-count').innerText = lives;
                if(lives <= 0) setTimeout(gameOver, 500);
            }
        }

        function lock() {
            document.querySelectorAll('.btn-opt').forEach(b => b.style.pointerEvents = 'none');
        }

        function next() {
            idx++;
            if(idx < bank.length) update();
            else gameOver();
        }

        function gameOver() {
            show('end-screen');
            const icon = document.getElementById('res-icon');
            const title = document.getElementById('res-title');
            const msg = document.getElementById('res-msg');

            if(lives > 0) {
                icon.innerText = 'üèÜ';
                title.innerText = 'MENANG!';
                msg.innerText = `Skor kamu: ${score}. Kamu hebat!`;
            } else {
                icon.innerText = 'üíÄ';
                title.innerText = 'GAME OVER';
                msg.innerText = `Skor akhir: ${score}. Jangan menyerah!`;
            }
        }
    </script>
</body>
</html>
